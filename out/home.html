<!doctype html>
<html lang="en-us">
  <head>
    <meta http-equiv="origin-trial" content="AiiqErPPIECW3smg0ZrmkBorbURWiOcf1tn4ge/XORQdLjo8OK+lM8WgWT8fDh905BmSi9he8uji55p/rnf1UgUAAABseyJvcmlnaW4iOiJodHRwczovL3NoYWRlcmVkaXRvci5rYXVzdC5lZHUuc2E6NDQzIiwiZmVhdHVyZSI6IldlYkdQVSIsImV4cGlyeSI6MTY2MzcxODM5OSwiaXNTdWJkb21haW4iOnRydWV9">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <title>shader editor</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <script src="https://fastly.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- load bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    <style>
        body { margin: 0; background-color: rgba(110, 109, 109, 0.432) }
        .emscripten {
            position: absolute;
            top: 15%;
            left: 3%;
            margin: 0px;
            border: 0;
            width: 45%;
            height: 50%;
            overflow: hidden;
            display: block;
            image-rendering: optimizeSpeed;
            image-rendering: -moz-crisp-edges;
            image-rendering: -o-crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: optimize-contrast;
            image-rendering: crisp-edges;
            image-rendering: pixelated;
            -ms-interpolation-mode: nearest-neighbor;
        }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-default navbar-static-top" >
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Shader Editor</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/browse">Browse</a></li>
            <li><a href="/new">New</a></li>
            <li><a href="/signin">Sign In</a></li>
          </ul>
        </div>
      </div>
    </nav>

<input type="file" name="image" onchange="upload(this)">
<br>
<br>
<br>
<br>

  <div class="form-group">
    <label for="image">Upload Texture</label>
    <input type="file" class="form-control-file" id="image" name="image" accpet=".jpg .png">
    <br>
    <button  class="btn btn-primary" onclick="upload()">Upload</button>
  </div>

<script>
  function isAssetTypeAnImage(ext) {
  return (['png', 'jpg', 'jpeg', 'bmp'].indexOf(ext.toLowerCase()) !== -1)
  }
  function upload(){
      el=document.getElementById("image")
      var files = el.files[0]
      var index= files.name.lastIndexOf(".");
      var ext = files.name.substr(index+1);
      //console.log(files.name)
      var formDate = new FormData()
      formDate.set("image",files)
      if (files!= undefined)
      {
        if(isAssetTypeAnImage(ext)==true)
        {$.ajax({
          url: '/file_upload',
          data: formDate,
          type: 'post',
          contentType: false,
          processData: false,
          success: function(res){
              //console.log(res);
              alert("upload successfully.")
          }
        })}
        else
        {
          alert("Now we just support .png .jpg .jpeg .bmp")
        }
      }
      else
      {
        alert("please select an image.")
      }
  }
</script>

  </body>
</html>